<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"> -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> -->
    <title>Hello, world!</title>
    
  </head>
  <body>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script> -->
    
    <!-- <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script> -->

    <nav class="navbar navbar-expand-lg navbar-light" style="color: white;">
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <form class="form-inline my-2 my-lg-0">
          <button type="button" class="btn btn-primary" id="search-btn" style="margin-left: 1175px; border-radius: 15px; background-color: white; color: black; border: 1px solid black;" routerLink="/search">Search</button>
          <button type="button" class="btn btn-primary" id="bookings-btn" style="margin-left: 12px; border-radius: 15px; background-color: white; color: black; border: none" routerLink="/bookings">My Bookings</button>
        </form>
      </div>
    </nav>

    <div id="main-page" style="height: 700px; width: 1450px;">
      <div style="margin-left: 30%; margin-right: 30%; padding: 30px; border: 1px solid black; background-color: white;">
        <form>
          <div style="text-align: center;">
            <h3>Business Search</h3>
          </div>
          <div class="form-group">
            <label for="inputKeyword">Keyword<span aria-label="required" style="color: red;">*</span></label>
            <input type="text" class="form-control" id="keyword" aria-describedby="keyword" placeholder="" required>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col">
                <label for="inputDistance">Distance</label>
                <input type="text" class="form-control" id="distance" aria-describedby="distance" placeholder="10">
              </div>
              <div class="col">
                <label for="selectCategory">Category<span aria-label="required" style="color: red;">*</span></label>
                <select class="form-control" id="selectCategory" required>
                  <option value="all">Default</option>
                  <option value="arts">Arts & Entertainment</option>
                  <option value="health">Health & Medical</option>
                  <option value="hotelstravel">Hotels & Travel</option>
                  <option value="food">Food</option>
                  <option value="professional">Professional Services</option>
                </select>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label for="inputLocation">Location<span aria-label="required" style="color: red;">*</span></label>
            <input type="text" class="form-control" id="location" aria-describedby="location" placeholder="" required>
          </div>
          <div class="form-group form-check">
            <input type="checkbox" class="form-check-input" id="exampleCheck1">
            <label class="form-check-label" for="exampleCheck1">Auto-detect my location</label>
          </div>
          <div class="form-group">
            <button type="submit" class="btn btn-primary" style="margin-left: 35%; background-color: red; border: 1px solid red;">Submit</button>
            <button type="reset" class="btn btn-primary" style="margin-left: 20px;">Clear</button>
          </div>
          
        </form>
      </div>
    </div>
    
    <div class="row">
      <div class="col-md-1"></div>
      <div class="col-md-10">
        <table class="table table-striped">
          <thead>
            <tr>
              <th style="text-align: center;">No.</th>
              <th style="text-align: center;">Image</th>
              <th style="text-align: center;">Business Name</th>
              <th style="text-align: center;">Rating</th>
              <th style="text-align: center;">Distance (Miles)</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let i of tableContents.businesses let j = index">
              <td id="item-no" style="text-align: center;">{{j+1}}</td>
              <td id="item-img-url" style="text-align: center;"><img id="item-img" src="{{i.image_url}}" alt="Image" width="150" height="150"></td>
              <td id="item-name" style="text-align: center;">{{i.name}}</td>
              <td id="item-rating" style="text-align: center;">{{i.rating}}</td>
              <td id="item-dist" style="text-align: center;">{{(i.distance/1609).toFixed(2)}}</td>
            </tr>
            <!-- <tr>
              <td id="item-no">2</td>
              <td id="item-img-url"><img id="item-img" src="" alt="Image" width="150" height="150"></td>
              <td id="item-name">Subway</td>
              <td id="item-rating">5</td>
              <td id="item-dist">0.1</td>
            </tr>
            <tr>
              <td id="item-no">3</td>
              <td id="item-img-url"><img id="item-img" src="" alt="Image" width="150" height="150"></td>
              <td id="item-name">Botega Lui</td>
              <td id="item-rating">4.5</td>
              <td id="item-dist">1.2</td>
            </tr> -->
          </tbody>
        </table>
      </div>
      <div class="col-md-1"></div>
    </div>
    

    <!-- <div class="row">
      <div class="col-12">
          <mat-tab-group mat-align-tabs="center" mat-stretch-tabs animationDuration="0ms">
              <mat-tab label="Summary">
                  
              </mat-tab>
              <mat-tab label="Top News">
                
              </mat-tab>
              <mat-tab label="Charts">
                  
              </mat-tab>
          </mat-tab-group>
      </div>
  </div> -->

    <div class="card" style="margin-left: 20%; margin-right: 20%;">
      <div class="card-body">
        <h2 class="card-title" style="text-align: center;">{{detailList.name}}</h2>
        <!-- <mat-tab-group style="width: 100%;">
          <mat-tab label="firstTab" style="width: 33%;"> 
            <div><h1>First Tab</h1></div>
          </mat-tab>
          <mat-tab label="secondTab" style="width: 33%;"> 
            <div>Second Tab</div>
          </mat-tab>
          <mat-tab label="thirdTab" style="width: 33%;"> 
            <div>Third Tab</div>
          </mat-tab>
        </mat-tab-group> -->
        <div class="row">
          <div class="col-12">
              <mat-tab-group mat-align-tabs="center" mat-stretch-tabs animationDuration="0ms" disableRipple>
                  <mat-tab label="Business Details" id="firstTab" style="background-color: yellow;"> 
                    <div class="row" style="padding-top: 20px;">
                      <div class="col-md-6" style="text-align: center;">
                        <h4 id="head-rest-address">Address</h4>
                        <p id="rest-address">{{detailList.location!.display_address![0]}}</p>
                        <p>{{detailList.location!.display_address![1]}}</p>
                      </div>
                      <div class="col-md-6" style="text-align: center;">
                        <h4 id="head-rest-category">Category</h4>
                        <p id="rest-category">{{detailList.categories![0].title}} | {{detailList.categories![1].title}} | {{detailList.categories![2].title}}</p>
                      </div>
                    </div>

                    <div class="row" style="padding-top: 10px;">
                      <div class="col-md-6" style="text-align: center;">
                        <h4 id="head-rest-phone">Phone</h4>
                        <p id="rest-phone">{{detailList.display_phone}}</p>
                      </div>
                      <div class="col-md-6" style="text-align: center;">
                        <h4 id="head-rest-price">Price</h4>
                        <p id="rest-price">{{detailList.price}}</p>
                      </div>
                    </div>

                    <div class="row" style="padding-top: 10px;">
                      <div class="col-md-6" style="text-align: center;">
                        <h4 id="head-rest-status">Status</h4>
                        <p id="rest-status">{{open_now}}</p>
                      </div>
                      <div class="col-md-6" style="text-align: center;">
                        <h4 id="head-rest-link">Visit yelp for more</h4>
                        <p id="rest-link"><a href="{{detailList.url}}" id="rest-link-yelp" target="_blank" style="cursor: pointer;">Business Link</a></p>
                      </div>
                    </div>

                    <div class="row" style="padding-top: 10px;">
                      <button type="button" class="btn btn-primary" style="margin-left: 40%; background-color: red; border: 1px solid red; width: 20%;">Reserve</button>
                    </div>

                    <div class="row" style="padding-top: 20px;">
                      <p style="margin-left: 41%;">Share on: </p>
                      &nbsp; &nbsp;
                      <a href="{{twitter_url}}" id="twitter-yelp-share" target="_blank" style="cursor: pointer;"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4n_urpJ9XpwOTdzBVbGvactwHrPagYQrTJPYjxfxLGkSyu7nJZVqRVGAeohnPgKMrnKE&usqp=CAU" alt="twitterLogo" style="width:30px;height:25px;"></a>
                      &nbsp; &nbsp;
                      <a href="{{facebook_url}}" id="facebook-yelp-share" target="_blank" style="cursor: pointer;"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/Facebook_icon.svg/2048px-Facebook_icon.svg.png" alt="facebookLogo" style="width:30px;height:30px;"></a>
                    </div>


                    <!-- <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                      <div class="carousel-inner">
                        <div class="carousel-item active">
                          <img src="{{detailList.photos![0]}}" class="d-block w-100" alt="...">
                        </div>
                        <div class="carousel-item">
                          <img src="{{detailList.photos![1]}}" class="d-block w-100" alt="...">
                        </div>
                        <div class="carousel-item">
                          <img src="{{detailList.photos![2]}}" class="d-block w-100" alt="...">
                        </div>
                      </div>
                      <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                      </a>
                      <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                      </a>
                    </div> -->

                    <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                      <div class="carousel-inner">
                        <div class="carousel-item active">
                          <img src="{{detailList.photos![0]}}" class="d-block w-100" alt="...">
                        </div>
                        <div class="carousel-item">
                          <img src="{{detailList.photos![1]}}" class="d-block w-100" alt="...">
                        </div>
                        <div class="carousel-item">
                          <img src="{{detailList.photos![2]}}" class="d-block w-100" alt="...">
                        </div>
                      </div>
                      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                      </button>
                      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                      </button>
                    </div>
                    

                  </mat-tab>
                  <mat-tab label="Map Location">
                    <!-- <iframe
                      width="800"
                      height="600"
                      style="border:0"
                      loading="lazy"
                      allowfullscreen
                      referrerpolicy="no-referrer-when-downgrade"
                      src="https://www.google.com/maps/embed/v1/place?key=AIzaSyBQPXYULd_ENefb7KCsgh6uUaNfxb_fhjo&q=Space+Needle,Seattle+WA">
                    </iframe> -->
                    <div class="my-google-map">
                      <google-map [width]="820" [height]="600"></google-map>
                    </div>
                  </mat-tab>
                  <mat-tab label="Reviews">
                      <div class="row">
                        <table class="table table-striped" style="margin-left: 5%; margin-right: 5%;">
                          <tbody>
                            <tr *ngFor="let i of reviewsList.reviews">
                              <p><b>{{i.user!.name}}</b></p>
                              <p>{{i.rating}}</p>
                              <p>{{i.text}}</p>
                              <p>{{i.time_created!.split(" ")[0]}}</p>
                            </tr>
                            <!-- <tr>
                              <p><b>Susan T.</b></p>
                              <p>Rating: 5/5</p>
                              <p>Great little Sushi Place. Always fresh and clean. OUTSTANDING service. Our go to sushi place.</p>
                              <p>2022-09-25</p>
                            </tr>
                            <tr>
                              <p><b>Susan T.</b></p>
                              <p>Rating: 5/5</p>
                              <p>Great little Sushi Place. Always fresh and clean. OUTSTANDING service. Our go to sushi place.</p>
                              <p>2022-09-25</p>
                            </tr> -->
                          </tbody>
                        </table>
                      </div>
                  </mat-tab>
              </mat-tab-group>
          </div>
      </div>
      </div>
    </div>

    <!-- <div>
      <p *ngFor="let i of autoCompleteList.categories">{{ i.title }}</p>
    </div> -->

    <!-- <div *ngFor="let i of tableContents.businesses">
      <p>{{i.id}}</p>
      <p *ngFor="let i in tableContents.businesses">{{i.name}}</p>
      <p *ngFor="let i in tableContents.businesses">{{i.image_url}}</p> 
    </div> -->
  
  </body>
</html>